"use strict";(self["webpackChunkatm_vue"]=self["webpackChunkatm_vue"]||[]).push([[531],{1531:function(e,r,a){a.r(r),a.d(r,{default:function(){return S}});var t=a(6768),s=a(5130),o=a(4232),n=a(8298),i=a(1560),l=a(6861);const u=e=>((0,t.Qi)("data-v-9e6e1c48"),e=e(),(0,t.jt)(),e),d={class:"auth-wrapper"},c={class:"inp-row"},m=u((()=>(0,t.Lk)("label",{for:"cardNo"},"Card No",-1))),p={class:"inp-row"},b=u((()=>(0,t.Lk)("label",{for:"pin"},"PIN Number",-1))),v={class:"server-error-msg"},f={class:"inp-row btn-row"};function h(e,r,a,u,h,N){return(0,t.uX)(),(0,t.CE)("div",d,[(0,t.bF)(i.n,{onSubmit:(0,s.D$)(N.handleSubmit,["prevent"]),ref:"form",class:"auth-container","lazy-validation":""},{default:(0,t.k6)((()=>[(0,t.Lk)("div",c,[m,(0,t.bF)(l.W,{modelValue:h.cardNo,"onUpdate:modelValue":r[0]||(r[0]=e=>h.cardNo=e),rules:h.cardNoRules,la:"",counter:16,id:"cardNo",variant:"outlined",dense:"",autocomplete:"off"},null,8,["modelValue","rules"])]),(0,t.Lk)("div",p,[b,(0,t.bF)(l.W,{modelValue:h.pin,"onUpdate:modelValue":r[1]||(r[1]=e=>h.pin=e),rules:h.pinRules,counter:4,id:"pin",variant:"outlined",dense:"",autocomplete:"off"},null,8,["modelValue","rules"])]),(0,t.Lk)("div",v,(0,o.v_)(h.serverErrorMsg),1),(0,t.Lk)("div",f,[(0,t.bF)(n.D,{type:"submit",class:"submit-btn",color:"primary"},{default:(0,t.k6)((()=>[(0,t.eW)("Submit")])),_:1})])])),_:1},8,["onSubmit"])])}var N=a(8726),k={name:"Auth",data(){return{cardNo:"",pin:"",cardNoRules:[e=>!!e||"Card No is required",e=>e&&16===e.length||"Card No must be 16 characters"],pinRules:[e=>!!e||"PIN Number is required",e=>e&&4===e.length||"PIN Number must be 4 characters"],serverErrorMsg:""}},methods:{async handleSubmit(){const{valid:e}=await this.$refs.form.validate();if(e){const e={cardNumber:this.cardNo,pin:this.pin};try{const r=await N.A.post("/api/Atm/Login",e);sessionStorage.setItem("token",r.data.token),sessionStorage.setItem("card",this.cardNo),this.$router.replace({name:"Options"})}catch(r){alert(r.response?.data.message||"Internal Server Error")}}}}},g=a(1241);const w=(0,g.A)(k,[["render",h],["__scopeId","data-v-9e6e1c48"]]);var S=w}}]);
//# sourceMappingURL=531.b6c1b7d8.js.map